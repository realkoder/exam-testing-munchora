{
	"info": {
		"_postman_id": "0ddf8bfc-eeb1-4683-bf0f-f1b39f8f84b0",
		"name": "MUNCHORA",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "29333853"
	},
	"item": [
		{
			"name": "failing-request",
			"item": [
				{
					"name": "failure-users-index",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 401\", function () {",
									"    pm.response.to.have.status(401);",
									"});",
									"",
									"pm.test(\"Res must contain 'error'\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.error).to.eql(\"Unauthorized\");",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"protocolProfileBehavior": {
						"disableCookies": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{BASE_URL}}/users",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "failure-grocery-list-index",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 401\", function () {",
									"    pm.response.to.have.status(401);",
									"});",
									"",
									"pm.test(\"Res must contain 'error'\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.error).to.eql(\"Unauthorized\");",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"protocolProfileBehavior": {
						"disableCookies": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{BASE_URL}}/grocery_lists",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"grocery_lists"
							]
						}
					},
					"response": []
				},
				{
					"name": "failure-invoice-index",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 401\", function () {",
									"    pm.response.to.have.status(401);",
									"});",
									"",
									"pm.test(\"Res must contain 'error'\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.error).to.eql(\"Unauthorized\");",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"protocolProfileBehavior": {
						"disableCookies": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{BASE_URL}}/invoices",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"invoices"
							]
						}
					},
					"response": []
				},
				{
					"name": "failure-non-existing-route",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 404\", function () {",
									"    pm.response.to.have.status(404);",
									"});",
									"",
									"pm.test(\"Response time is less than 200ms\", function () {",
									"    pm.expect(pm.response.responseTime).to.be.below(200);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.variables.set(\"skipGeneralAssertions\", \"true\");"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{BASE_URL}}/some-ranomd-url",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"some-ranomd-url"
							]
						}
					},
					"response": []
				},
				{
					"name": "failure-creating-user",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {",
									"    pm.response.to.have.status(400);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"user\": {\n        \"first_name\": 'JosÃ©',\n        \"last_name\": 'MuÃ±oz-O\\\"Connor',\n        \"email\": 'jose@example.com',\n        \"password\": 'secure123',\n        \"password_confirmation\": 'secure123'\n    }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{BASE_URL}}/users",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"users"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "user",
			"item": [
				{
					"name": "user-create",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"pm.environment.set('USER_ID', jsonData['id']);",
									"",
									"// NEED TO ENSURE A NEW AUTH COOKIE WITH ADMIN USER",
									"",
									"// --- Configuration ---",
									"const authLoginUrl = pm.environment.get(\"BASE_URL\") + \"/auth/login\";",
									"",
									"const loginBody = {",
									"    email: pm.environment.get('EMAIL'),",
									"    password: pm.environment.get('PASSWORD')",
									"};",
									"",
									"// --- Define Request Details ---",
									"const loginRequest = {",
									"    url: authLoginUrl,",
									"    method: 'POST',",
									"    header: { 'Content-Type': 'application/json' },",
									"    body: JSON.stringify(loginBody)",
									"};",
									"",
									"pm.sendRequest(loginRequest, (err, res) => {",
									"    if (err) {",
									"        console.error(\"Login error:\", err);",
									"        throw new Error(`Admin User Login request failed: ${err}`);",
									"    }",
									"",
									"    const responseJson = res.json();",
									"    const userId = responseJson.user.id;",
									"",
									"    if (!userId) {",
									"        throw new Error(\"Admin User Login failed: No user_id found in response.\");",
									"    }",
									"    ",
									"    console.log(\"Login successful, user ID:\", userId);",
									"    ",
									"    // Setting cookies",
									"    if (res.cookies && res.cookies.all()) {",
									"        res.cookies.all().forEach(cookie => {",
									"            pm.cookies.jar().set(cookie);",
									"        });",
									"    }",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "use-db",
								"value": "{{USE_DB}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"user\": {\n        \"first_name\": \"{{FIRST_NAME}}\",\n        \"last_name\": \"{{LAST_NAME}}\",\n        \"email\": \"{{EMAIL}}\",\n        \"image_src\": \"{{IMAGE_SRC}}\",\n        \"bio\": \"{{BIO}}\",\n        \"password\": \"{{PASSWORD}}\",\n        \"password_confirmation\": \"{{PASSWORD}}\"\n    }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{BASE_URL}}/users",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "user-index",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "use-db",
								"value": "{{USE_DB}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{BASE_URL}}/users",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "users/upload-image",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"// Since the files exists local then skip for CI pipeline",
									"const skipFlag = pm.globals.get(\"CI_SKIP\");",
									"",
									"if (skipFlag === \"true\") {",
									"    postman.setNextRequest(null);",
									"    return;",
									"}"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "use-db",
								"value": "{{USE_DB}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "image",
									"type": "file",
									"src": "/Users/alexanderchristensen/Downloads/meyers_flaeskestegssandwich.jpg"
								}
							]
						},
						"url": {
							"raw": "{{BASE_URL}}/users/upload-image",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"users",
								"upload-image"
							]
						}
					},
					"response": []
				},
				{
					"name": "users/delete-image",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"// Since the files exists local then skip for CI pipeline",
									"const skipFlag = pm.globals.get(\"CI_SKIP\");",
									"",
									"if (skipFlag === \"true\") {",
									"    postman.setNextRequest(null);",
									"    return;",
									"}"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "DELETE",
						"header": [
							{
								"key": "use-db",
								"value": "{{USE_DB}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "image",
									"type": "file",
									"src": "/Users/alexanderchristensen/Projects/projects-playground/munchora/client/public/logo.jpg"
								}
							]
						},
						"url": {
							"raw": "{{BASE_URL}}/users/delete-image",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"users",
								"delete-image"
							]
						}
					},
					"response": []
				},
				{
					"name": "user-show",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"const CI_PIPELINE = pm.globals.get(\"CI_SKIP\");",
									"",
									"if (CI_PIPELINE) {",
									"    const checkId = (attempt = 1, maxAttempts = 10) => {",
									"        const id = pm.environment.get(\"USER_ID\");",
									"",
									"        if (id && id !== \"\") {",
									"            // Continue with the request",
									"            const baseUrl = pm.environment.get(\"BASE_URL\");",
									"            const newUrl = `${baseUrl}/users/${id}`;",
									"",
									"            // Update the request URL",
									"            pm.request.url = newUrl;",
									"            return;",
									"        }",
									"",
									"        if (attempt >= maxAttempts) {",
									"            // Skip this request",
									"            pm.execution.setNextRequest()",
									"            return;",
									"        }",
									"",
									"        setTimeout(() => {",
									"            checkId(attempt + 1, maxAttempts);",
									"            pm.execution.setNextRequest()",
									"        }, 1000);",
									"    };",
									"",
									"    checkId();",
									"}"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "use-db",
								"value": "{{USE_DB}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{BASE_URL}}/users/{{USER_ID}}",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"users",
								"{{USER_ID}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "user-update",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"const CI_PIPELINE = pm.globals.get(\"CI_SKIP\");",
									"",
									"if (CI_PIPELINE) {",
									"    const checkId = (attempt = 1, maxAttempts = 10) => {",
									"        const id = pm.environment.get(\"USER_ID\");",
									"",
									"        if (id && id !== \"\") {",
									"            return;",
									"        }",
									"",
									"        if (attempt >= maxAttempts) {",
									"            // Skip this request",
									"            pm.execution.setNextRequest()",
									"            return;",
									"        }",
									"",
									"        setTimeout(() => {",
									"            checkId(attempt + 1, maxAttempts);",
									"            pm.execution.setNextRequest()",
									"        }, 1000);",
									"    };",
									"",
									"    checkId();",
									"}"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "use-db",
								"value": "{{USE_DB}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"user\": {\n        \"first_name\": \"Alexander\",\n        \"last_name\": \"Christensen\",\n        \"bio\": \"cooking cooking\"\n    }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{BASE_URL}}/users/{{USER_ID}}",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"users",
								"{{USER_ID}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "user-delete",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"// --- Configuration ---",
									"const createUserUrl = pm.environment.get(\"BASE_URL\") + \"/users\";",
									"",
									"// --- Define User Payload ---",
									"const tempUserData = {",
									"    user: {",
									"        first_name: \"Test\",",
									"        last_name: \"User\",",
									"        email: `test_delete_${Date.now()}@deletion.dk`,",
									"        password: \"test1234\",",
									"        password_confirmation: \"test1234\",",
									"    }",
									"};",
									"",
									"// --- Define Create User Request ---",
									"const createRequest = {",
									"    url: createUserUrl,",
									"    method: 'POST',",
									"    header: [{ key: 'Content-Type', value: 'application/json' }],",
									"    body: JSON.stringify(tempUserData),",
									"    cookieJar: pm.cookies.jar(),",
									"    followRedirects: true",
									"};",
									"",
									"// --- Send Create User Request ---",
									"pm.sendRequest(createRequest, (err, res) => {",
									"    if (err) throw new Error(`Error for createRequest: ${err}`);",
									"",
									"    const user = res.json();",
									"",
									"    if (!user || !user.id) throw new Error(\"Temp user.id is not returned\");",
									"",
									"    pm.environment.set(\"DELETE_USER_ID\", user.id);",
									"",
									"    // --- login request AFTER temp user creation ---",
									"    const authLoginUrl = pm.environment.get(\"BASE_URL\") + \"/auth/login/\";",
									"",
									"    const loginRequest = {",
									"        url: authLoginUrl,",
									"        method: 'POST',",
									"        header: [{ key: 'Content-Type', value: 'application/json' }],",
									"        body: JSON.stringify({ ",
									"            email: tempUserData.user.email, ",
									"            password: tempUserData.user.password ",
									"        }),",
									"        cookieJar: pm.cookies.jar(),",
									"        followRedirects: true",
									"    };",
									"",
									"    pm.sendRequest(loginRequest, (err, res) => {",
									"        if (err) throw new Error(`Temp user Login request failed: ${err}`);",
									"",
									"        const responseJson = res.json();",
									"        const userId = responseJson.user.id;",
									"",
									"        if (userId) {",
									"            pm.environment.set(\"USER_ID\", userId);",
									"        } else {",
									"            throw new Error(\"Login failed: No user_id found in response.\");",
									"        }",
									"    });",
									"});",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"// NEED TO ENSURE A NEW AUTH COOKIE WITH ADMIN USER",
									"",
									"// --- Configuration ---",
									"const authLoginUrl = pm.environment.get(\"BASE_URL\") + \"/auth/login\";",
									"",
									"const loginBody = {",
									"    email: pm.environment.get('EMAIL'),",
									"    password: pm.environment.get('PASSWORD')",
									"};",
									"",
									"// --- Define Request Details ---",
									"const loginRequest = {",
									"    url: authLoginUrl,",
									"    method: 'POST',",
									"    header: [{ key: 'Content-Type', value: 'application/json' }],",
									"    body: JSON.stringify(loginBody),",
									"cookieJar: pm.cookies.jar(),",
									"    followRedirects: true",
									"};",
									"",
									"pm.sendRequest(loginRequest, (err, res) => {",
									"    if (err) throw new Error(`Admin User Login request failed: ${err}`);",
									"",
									"    const responseJson = res.json();",
									"    const userId = responseJson.user.id;",
									"",
									"    if (userId) {",
									"        pm.environment.set(\"USER_ID\", userId);",
									"    } else {",
									"        throw new Error(\"Admin User Login failed: No user_id found in response.\");",
									"    }",
									"});",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{BASE_URL}}/users/{{DELETE_USER_ID}}",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"users",
								"{{DELETE_USER_ID}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "auth",
			"item": [
				{
					"name": "auth-login",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"var jsonData = pm.response.json();",
									"pm.environment.set('USER_ID', jsonData['user']['id'])",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"packages": {},
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "use-db",
								"value": "{{USE_DB}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"{{EMAIL}}\",\n    \"password\": \"{{PASSWORD}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{BASE_URL}}/auth/login",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"auth",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "auth-logout",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// NEED TO ENSURE A NEW AUTH COOKIE WITH ADMIN USER",
									"",
									"// --- Configuration ---",
									"const authLoginUrl = pm.environment.get(\"BASE_URL\") + \"/auth/login\";",
									"",
									"const loginBody = {",
									"    email: pm.environment.get('EMAIL').replace(/^\"|\"$/g, ''),",
									"    password: pm.environment.get('PASSWORD').replace(/^\"|\"$/g, '')",
									"};",
									"",
									"// --- Define Request Details ---",
									"const loginRequest = {",
									"    url: authLoginUrl,",
									"    method: 'POST',",
									"    header: [{ key: 'Content-Type', value: 'application/json' }],",
									"    body: JSON.stringify(loginBody),",
									"cookieJar: pm.cookies.jar(),",
									"    followRedirects: true",
									"};",
									"",
									"pm.sendRequest(loginRequest, (err, res) => {",
									"    if (err) throw new Error(`Admin User Login request failed: ${err}`);",
									"",
									"    const responseJson = res.json();",
									"    const userId = responseJson.user.id;",
									"",
									"    if (userId) {",
									"        pm.environment.set(\"USER_ID\", userId);",
									"    } else {",
									"        throw new Error(\"Admin User Login failed: No user_id found in response.\");",
									"    }",
									"});",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{BASE_URL}}/auth/logout?use-db={{USE_DB}}",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"auth",
								"logout"
							],
							"query": [
								{
									"key": "use-db",
									"value": "{{USE_DB}}"
								}
							]
						}
					},
					"response": []
				}
			],
			"description": "Auth / login"
		},
		{
			"name": "llm",
			"item": [
				{
					"name": "llm-generate-recipe",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var resData = pm.response.json();",
									"pm.environment.set('RECIPE_ID', resData['recipe']['id'])",
									"",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.variables.set(\"skipGeneralAssertions\", \"true\");",
									"",
									"// Since the files exists local then skip for CI pipeline",
									"const skipFlag = pm.globals.get(\"CI_SKIP\");",
									"",
									"if (skipFlag === \"true\") {",
									"    postman.setNextRequest(null);",
									"    return;",
									"}"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "use-db",
								"value": "{{USE_DB}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"prompt\": \"Pancakes\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{BASE_URL}}/llm/generate-recipe",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"llm",
								"generate-recipe"
							]
						}
					},
					"response": []
				},
				{
					"name": "llm-update-recipe",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.variables.set(\"skipGeneralAssertions\", \"true\");",
									"",
									"// Since the files exists local then skip for CI pipeline",
									"const skipFlag = pm.globals.get(\"CI_SKIP\");",
									"",
									"if (skipFlag === \"true\") {",
									"    postman.setNextRequest(null);",
									"    return;",
									"}"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"var resData = pm.response.json();",
									"pm.environment.set('RECIPE_ID', resData['recipe']['id'])",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "use-db",
								"value": "{{USE_DB}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"prompt\": \"Add peanutbutter\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{BASE_URL}}/llm/update-recipe/{{RECIPE_ID}}",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"llm",
								"update-recipe",
								"{{RECIPE_ID}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "recipe",
			"item": [
				{
					"name": "recipe-index",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var resData = pm.response.json();",
									"const id = resData['data'][0]['id']",
									"pm.environment.set('RECIPE_ID', id)"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [
							{
								"key": "use-db",
								"value": "{{USE_DB}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{BASE_URL}}/recipes",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"recipes"
							]
						}
					},
					"response": []
				},
				{
					"name": "recipe-update",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"const CI_PIPELINE = pm.globals.get(\"CI_SKIP\");",
									"",
									"if (CI_PIPELINE) {",
									"    const checkId = (attempt = 1, maxAttempts = 10) => {",
									"        const recipeId = pm.environment.get(\"RECIPE_ID\");",
									"",
									"        if (userId && userId !== \"\") {",
									"            // Continue with the request",
									"            const baseUrl = pm.environment.get(\"BASE_URL\");",
									"            const newUrl = `${baseUrl}/recipes/${recipeId}`;",
									"",
									"            // Update the request URL",
									"            pm.request.url = newUrl;",
									"            return;",
									"        }",
									"",
									"        if (attempt >= maxAttempts) {",
									"            // Skip this request",
									"            pm.execution.setNextRequest()",
									"            return;",
									"        }",
									"",
									"        setTimeout(() => {",
									"            checkId(attempt + 1, maxAttempts);",
									"            pm.execution.setNextRequest()",
									"        }, 1000);",
									"    };",
									"",
									"    checkId();",
									"}"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "use-db",
								"value": "{{USE_DB}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"recipe\": {\n        \"_id\": \"68cfe84fe572e4ba3b9e542d\",\n        \"cook_time\": 15,\n        \"created_at\": \"2025-09-21T11:58:07.712Z\",\n        \"cuisine\": [\n            \"Mexico\",\n            \"Deli\",\n            \"YEHAHHA\"\n        ],\n        \"description\": \"THIS IS MY CHANGE twist on the classic grilled chicken sandwich, layered with a creamy, spicy Thai cashew sauce, crisp cucumber, shredded carrot, and fresh cilantro on toasted whole-grain bread. This sandwich bursts with flavor and texture making it perfect for a satisfying lunch or casual dinner. Serve with a side of lime wedges and sweet chili dipping sauce for an extra zing! ðŸ‹ðŸŒ¶ï¸\",\n        \"difficulty\": \"easy\",\n        \"image_url\": null,\n        \"ingredients\": [\n            {\n                \"amount\": 2,\n                \"category\": \"meat ðŸ—\",\n                \"name\": \"chicken breasts\"\n            },\n            {\n                \"amount\": 4,\n                \"category\": \"bakery ðŸ¥–\",\n                \"name\": \"whole-grain bread slices\"\n            },\n            {\n                \"amount\": 3,\n                \"category\": \"condiments ðŸ§‚\",\n                \"name\": \"roasted cashew butter\"\n            },\n            {\n                \"amount\": 2,\n                \"category\": \"condiments ðŸ§‚\",\n                \"name\": \"soy sauce\"\n            },\n            {\n                \"amount\": 1,\n                \"category\": \"fruits ðŸŽ\",\n                \"name\": \"lime juice\"\n            },\n            {\n                \"amount\": 1,\n                \"category\": \"condiments ðŸ§‚\",\n                \"name\": \"honey\"\n            },\n            {\n                \"amount\": 100,\n                \"category\": \"vegetables ðŸ¥¦\",\n                \"name\": \"fresh ginger\"\n            },\n            {\n                \"amount\": 100,\n                \"category\": \"vegetables ðŸ¥¦\",\n                \"name\": \"garlic clove\"\n            },\n            {\n                \"amount\": 100,\n                \"category\": \"spices & herbs ðŸŒ¶ï¸\",\n                \"name\": \"chili flakes\"\n            },\n            {\n                \"amount\": 1,\n                \"category\": \"vegetables ðŸ¥¦\",\n                \"name\": \"XOXOXOXX\"\n            },\n            {\n                \"amount\": 1,\n                \"category\": \"vegetables ðŸ¥¦\",\n                \"name\": \"shredded carrot\"\n            }\n        ],\n        \"instructions\": [\n            \"In a small bowl, blend roasted cashew butter, soy sauce, lime juice, honey, grated ginger, garlic, and a pinch of chili flakes to make the Thai cashew sauce.\",\n            \"Marinate the chicken breasts in half of the cashew sauce for at least 30 minutes.\",\n            \"Preheat the grill or grill pan over medium-high heat. Grill the chicken breasts for 5-7 minutes per side, or until fully cooked and nicely charred.\",\n            \"Toast the bread slices until golden and crisp.\",\n            \"Spread the remaining cashew sauce generously on both slices of toasted bread.\",\n            \"Layer the grilled chicken, cucumber slices, shredded carrot, and fresh cilantro atop one slice.\",\n            \"Top with the other slice of bread to form a sandwich. Slice diagonally and serve immediately with lime wedges and optional sweet chili sauce on the side.\",\n            \"Enjoy the fusion of creamy, nutty, spicy, and fresh flavors in every bite!\"\n        ],\n        \"is_public\": false,\n        \"prep_time\": 10,\n        \"servings\": 2,\n        \"tags\": [\n            \"quick\",\n            \"easy\",\n            \"lunch\",\n            \"dinner\",\n            \"spicy\",\n            \"family-friendly\",\n            \"healthy\"\n        ],\n        \"title\": \"Grilled YIEYIYI Thai Cashew Chicken Sandwich ðŸ¥ªðŸŒ°\",\n        \"updated_at\": \"2025-09-21T12:16:48.525Z\",\n        \"user_id\": \"68cc24ad5d69ca6f7fab4d57\",\n        \"user\": {\n            \"image_src\": \"https://via.placeholder.com/150\"\n        }\n    }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{BASE_URL}}/recipes/{{RECIPE_ID}}",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"recipes",
								"{{RECIPE_ID}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "recipe-show",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"const CI_PIPELINE = pm.globals.get(\"RECIPE_ID\");",
									"",
									"if (CI_PIPELINE) {",
									"    const checkUserId = (attempt = 1, maxAttempts = 10) => {",
									"        const userId = pm.environment.get(\"RECIPE_ID\");",
									"",
									"        if (userId && userId !== \"\") {",
									"            // Continue with the request",
									"            return;",
									"        }",
									"",
									"        if (attempt >= maxAttempts) {",
									"            // Skip this request",
									"            pm.execution.setNextRequest()",
									"            return;",
									"        }",
									"",
									"        setTimeout(() => {",
									"            checkUserId(attempt + 1, maxAttempts);",
									"            pm.execution.setNextRequest()",
									"        }, 1000);",
									"    };",
									"",
									"    checkUserId();",
									"}"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "use-db",
								"value": "{{USE_DB}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{BASE_URL}}/recipes/{{RECIPE_ID}}",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"recipes",
								"{{RECIPE_ID}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "recipe-add-like",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"const CI_PIPELINE = pm.globals.get(\"RECIPE_ID\");",
									"",
									"if (CI_PIPELINE) {",
									"    const checkUserId = (attempt = 1, maxAttempts = 10) => {",
									"        const userId = pm.environment.get(\"RECIPE_ID\");",
									"",
									"        if (userId && userId !== \"\") {",
									"            // Continue with the request",
									"            return;",
									"        }",
									"",
									"        if (attempt >= maxAttempts) {",
									"            // Skip this request",
									"            pm.execution.setNextRequest()",
									"            return;",
									"        }",
									"",
									"        setTimeout(() => {",
									"            checkUserId(attempt + 1, maxAttempts);",
									"            pm.execution.setNextRequest()",
									"        }, 1000);",
									"    };",
									"",
									"    checkUserId();",
									"}"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "use-db",
								"value": "{{USE_DB}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{BASE_URL}}/recipes/{{RECIPE_ID}}/likes",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"recipes",
								"{{RECIPE_ID}}",
								"likes"
							]
						}
					},
					"response": []
				},
				{
					"name": "recipe-delete-like",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.variables.set(\"skipGeneralAssertions\", \"true\");",
									"",
									"const CI_PIPELINE = pm.globals.get(\"RECIPE_ID\");",
									"",
									"if (CI_PIPELINE) {",
									"    const checkUserId = (attempt = 1, maxAttempts = 10) => {",
									"        const userId = pm.environment.get(\"RECIPE_ID\");",
									"",
									"        if (userId && userId !== \"\") {",
									"            // Continue with the request",
									"            return;",
									"        }",
									"",
									"        if (attempt >= maxAttempts) {",
									"            // Skip this request",
									"            pm.execution.setNextRequest()",
									"            return;",
									"        }",
									"",
									"        setTimeout(() => {",
									"            checkUserId(attempt + 1, maxAttempts);",
									"            pm.execution.setNextRequest()",
									"        }, 1000);",
									"    };",
									"",
									"    checkUserId();",
									"}"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 204\", function () {",
									"    pm.response.to.have.status(204);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "use-db",
								"value": "{{USE_DB}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{BASE_URL}}/recipes/{{RECIPE_ID}}/likes",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"recipes",
								"{{RECIPE_ID}}",
								"likes"
							]
						}
					},
					"response": []
				},
				{
					"name": "recipe-add-comment",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"var resData = pm.response.json();",
									"pm.environment.set('COMMENT_ID', resData['id'])"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"const CI_PIPELINE = pm.globals.get(\"RECIPE_ID\");",
									"",
									"if (CI_PIPELINE) {",
									"    const checkUserId = (attempt = 1, maxAttempts = 10) => {",
									"        const userId = pm.environment.get(\"RECIPE_ID\");",
									"",
									"        if (userId && userId !== \"\") {",
									"            // Continue with the request",
									"            return;",
									"        }",
									"",
									"        if (attempt >= maxAttempts) {",
									"            // Skip this request",
									"            pm.execution.setNextRequest()",
									"            return;",
									"        }",
									"",
									"        setTimeout(() => {",
									"            checkUserId(attempt + 1, maxAttempts);",
									"            pm.execution.setNextRequest()",
									"        }, 1000);",
									"    };",
									"",
									"    checkUserId();",
									"}"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "use-db",
								"value": "{{USE_DB}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"comment\": {\n        \"comment\": \"The best RECIPE EVER!!\"\n    }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{BASE_URL}}/recipes/{{RECIPE_ID}}/comments",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"recipes",
								"{{RECIPE_ID}}",
								"comments"
							]
						}
					},
					"response": []
				},
				{
					"name": "recipe-delete-comment",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.variables.set(\"skipGeneralAssertions\", \"true\");",
									"",
									"const CI_PIPELINE = pm.globals.get(\"COMMENT_ID\");",
									"",
									"if (CI_PIPELINE) {",
									"    const checkUserId = (attempt = 1, maxAttempts = 10) => {",
									"        const userId = pm.environment.get(\"COMMENT_ID\");",
									"",
									"        if (userId && userId !== \"\") {",
									"            // Continue with the request",
									"            return;",
									"        }",
									"",
									"        if (attempt >= maxAttempts) {",
									"            // Skip this request",
									"            pm.execution.setNextRequest()",
									"            return;",
									"        }",
									"",
									"        setTimeout(() => {",
									"            checkUserId(attempt + 1, maxAttempts);",
									"            pm.execution.setNextRequest()",
									"        }, 1000);",
									"    };",
									"",
									"    checkUserId();",
									"}"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 204\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "use-db",
								"value": "{{USE_DB}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{BASE_URL}}/recipes/{{RECIPE_ID}}/comments/{{COMMENT_ID}}",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"recipes",
								"{{RECIPE_ID}}",
								"comments",
								"{{COMMENT_ID}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "recipe-delete",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.variables.set(\"skipGeneralAssertions\", \"true\");",
									"",
									"const CI_PIPELINE = pm.globals.get(\"RECIPE_ID\");",
									"",
									"if (CI_PIPELINE) {",
									"    const checkUserId = (attempt = 1, maxAttempts = 10) => {",
									"        const userId = pm.environment.get(\"RECIPE_ID\");",
									"",
									"        if (userId && userId !== \"\") {",
									"            // Continue with the request",
									"            return;",
									"        }",
									"",
									"        if (attempt >= maxAttempts) {",
									"            // Skip this request",
									"            pm.execution.setNextRequest()",
									"            return;",
									"        }",
									"",
									"        setTimeout(() => {",
									"            checkUserId(attempt + 1, maxAttempts);",
									"            pm.execution.setNextRequest()",
									"        }, 1000);",
									"    };",
									"",
									"    checkUserId();",
									"}"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 204\", function () {",
									"    pm.response.to.have.status(204);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "use-db",
								"value": "{{USE_DB}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{BASE_URL}}/recipes/{{RECIPE_ID}}",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"recipes",
								"{{RECIPE_ID}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "feedback",
			"item": [
				{
					"name": "feedback-index",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "use-db",
								"value": "mysql",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{BASE_URL}}/feedbacks",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"feedbacks"
							]
						}
					},
					"response": []
				},
				{
					"name": "feedback-show",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "use-db",
								"value": "mysql",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{BASE_URL}}/feedbacks/21",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"feedbacks",
								"21"
							]
						}
					},
					"response": []
				},
				{
					"name": "feedback-create",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "use-db",
								"value": "mysql",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"feedback\": {\n        \"message\": \"Please change the UI!!!\",\n        \"name\": \"Alexander Aka Realkoder\",\n        \"email\": \"tina@example.com\",\n        \"category\": \"interface\"\n    }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{BASE_URL}}/feedbacks",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"feedbacks"
							]
						}
					},
					"response": []
				},
				{
					"name": "feedback-delete",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 204\", function () {",
									"    pm.response.to.have.status(204);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.variables.set(\"skipGeneralAssertions\", \"true\");"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "use-db",
								"value": "mysql",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{BASE_URL}}/feedbacks/21",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"feedbacks",
								"21"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "grocery-list",
			"item": [
				{
					"name": "grocery-list-index",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "use-db",
								"value": "{{USE_DB}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{BASE_URL}}/grocery_lists",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"grocery_lists"
							]
						}
					},
					"response": []
				},
				{
					"name": "grocery-list-create",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"pm.environment.set('GROCERY_LIST_ID', jsonData['id'])"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "use-db",
								"value": "{{USE_DB}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"grocery_list\": {\n        \"name\": \"My Shopping List\"\n    }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{BASE_URL}}/grocery_lists",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"grocery_lists"
							]
						}
					},
					"response": []
				},
				{
					"name": "grocery-list-share",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.variables.set(\"skipGeneralAssertions\", \"true\");",
									"",
									"// Since the files exists local then skip for CI pipeline",
									"const skipFlag = pm.globals.get(\"CI_SKIP\");",
									"",
									"if (skipFlag === \"true\") {",
									"    postman.setNextRequest(null);",
									"    return;",
									"}"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "use-db",
								"value": "{{USE_DB}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"user_ids\": [\n        \"10d0a1bf-1e84-41fe-a95f-4b88aa30a6bf\"\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{BASE_URL}}/grocery_lists/{{GROCERY_LIST_ID}}/share",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"grocery_lists",
								"{{GROCERY_LIST_ID}}",
								"share"
							]
						}
					},
					"response": []
				},
				{
					"name": "grocery-list-update",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "use-db",
								"value": "{{USE_DB}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"grocery_list\": {\n        \"name\": \"YO SUP\"\n    }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{BASE_URL}}/grocery_lists/{{GROCERY_LIST_ID}}",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"grocery_lists",
								"{{GROCERY_LIST_ID}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "grocery-list-update-item",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "use-db",
								"value": "{{USE_DB}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Steak\",\n    \"category\": \"meat ðŸ—\",\n    \"is_completed\": true\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{BASE_URL}}/grocery_lists/{{GROCERY_LIST_ID}}/update-item/27",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"grocery_lists",
								"{{GROCERY_LIST_ID}}",
								"update-item",
								"27"
							]
						}
					},
					"response": []
				},
				{
					"name": "grocery-list-add-item",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "use-db",
								"value": "{{USE_DB}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"item\": {\n        \"name\": \"Chicken\",\n        \"category\": \"meat ðŸ—\"\n    }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{BASE_URL}}/grocery_lists/{{GROCERY_LIST_ID}}/add-item",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"grocery_lists",
								"{{GROCERY_LIST_ID}}",
								"add-item"
							]
						}
					},
					"response": []
				},
				{
					"name": "grocery-list-remove-item",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "use-db",
								"value": "{{USE_DB}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{BASE_URL}}/grocery_lists/{{GROCERY_LIST_ID}}/remove-item/27",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"grocery_lists",
								"{{GROCERY_LIST_ID}}",
								"remove-item",
								"27"
							]
						}
					},
					"response": []
				},
				{
					"name": "grocery-list-unshare",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.variables.set(\"skipGeneralAssertions\", \"true\");",
									"",
									"// Since the files exists local then skip for CI pipeline",
									"const skipFlag = pm.globals.get(\"CI_SKIP\");",
									"",
									"if (skipFlag === \"true\") {",
									"    postman.setNextRequest(null);",
									"    return;",
									"}"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "use-db",
								"value": "{{USE_DB}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"user_id\": \"fb033692-9c2b-4a4a-a372-a9941b836694\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{BASE_URL}}/grocery_lists/{{GROCERY_LIST_ID}}/unshare",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"grocery_lists",
								"{{GROCERY_LIST_ID}}",
								"unshare"
							]
						}
					},
					"response": []
				},
				{
					"name": "grocery-list-delete",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{BASE_URL}}/grocery_lists/{{GROCERY_LIST_ID}}",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"grocery_lists",
								"{{GROCERY_LIST_ID}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "invoice",
			"item": [
				{
					"name": "invoice-index",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{BASE_URL}}/invoices",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"invoices"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "subscription",
			"item": [
				{
					"name": "subscription-index",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{BASE_URL}}/subscriptions",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"subscriptions"
							]
						}
					},
					"response": []
				},
				{
					"name": "subscription-create",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"subscription\": {\n        \"subscription_plan_id\": 1\n    }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{BASE_URL}}/subscriptions",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"subscriptions"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "recipe-suggestions",
			"item": [
				{
					"name": "recipe-suggestion-index",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{BASE_URL}}/recipe_suggestions",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"recipe_suggestions"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "recipe-summary",
			"item": [
				{
					"name": "recipe-summary-index",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "use-db",
								"value": "{{USE_DB}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{BASE_URL}}/recipe_summary",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"recipe_summary"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "audit",
			"item": [
				{
					"name": "user-audits-index",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{BASE_URL}}/user_audits",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"user_audits"
							]
						}
					},
					"response": []
				},
				{
					"name": "grocery-list-audits-index",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{BASE_URL}}/grocery_list_audits",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"grocery_list_audits"
							]
						}
					},
					"response": []
				},
				{
					"name": "grocery-list-item-audits-index Copy",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{BASE_URL}}/grocery_list_item_audits",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"grocery_list_item_audits"
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"packages": {},
				"requests": {},
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"packages": {},
				"requests": {},
				"exec": [
					"const skipAssertions = pm.variables.get(\"skipGeneralAssertions\");",
					"",
					"if (skipAssertions === \"true\") {",
					"    // Clear the variable for the next request in case it was set globally",
					"    pm.variables.unset(\"skipGeneralAssertions\");",
					"    return; // Stop execution of the script",
					"}",
					"",
					"pm.test(\"Response is JSON and contains 'data'\", function () {",
					"    // Check that the response has JSON content-type",
					"    pm.response.to.have.header(\"Content-Type\");",
					"    pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/json\");",
					"",
					"    // Try parsing JSON safely",
					"    let jsonData;",
					"    try {",
					"        jsonData = pm.response.json();",
					"    } catch (e) {",
					"        pm.expect.fail(\"Response is not valid JSON\");",
					"    }",
					"});",
					"",
					"pm.test(\"Response time is less than 500ms\", function () {",
					"    pm.expect(pm.response.responseTime).to.be.below(500);",
					"});"
				]
			}
		}
	]
}